<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>geschichte.repo documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Geschichte 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="geschichte.data.html"><span>geschichte.data</span></a></li><li><a href="geschichte.meta.html"><span>geschichte.meta</span></a></li><li class="current"><a href="geschichte.repo.html"><span>geschichte.repo</span></a></li><li><a href="geschichte.store.html"><span>geschichte.store</span></a></li><li><a href="geschichte.zip.html"><span>geschichte.zip</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="geschichte.repo.html#var-*date-fn*"><span>*date-fn*</span></a></li><li><a href="geschichte.repo.html#var-*id-fn*"><span>*id-fn*</span></a></li><li><a href="geschichte.repo.html#var-branch"><span>branch</span></a></li><li><a href="geschichte.repo.html#var-clone"><span>clone</span></a></li><li><a href="geschichte.repo.html#var-commit"><span>commit</span></a></li><li><a href="geschichte.repo.html#var-merge-heads"><span>merge-heads</span></a></li><li><a href="geschichte.repo.html#var-merge-lcas"><span>merge-lcas</span></a></li><li><a href="geschichte.repo.html#var-new-repository"><span>new-repository</span></a></li><li><a href="geschichte.repo.html#var-pull"><span>pull</span></a></li><li><a href="geschichte.repo.html#var-pull-lcas"><span>pull-lcas</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>geschichte.repo documentation</h2><pre class="doc">Implementing core repository functions.
Use this namespace to manage your repositories.

Metadata is designed as a commutative replicative data type, so it
can be synched between different servers without coordination. Don't
add fields as this is part of the network specification.</pre><div class="public" id="var-*date-fn*"><h3>*date-fn*</h3><div class="usage"><code>(*date-fn*)</code></div><pre class="doc">DO NOT REBIND EXCEPT FOR TESTING OR YOU MIGHT CORRUPT DATA.
</pre></div><div class="public" id="var-*id-fn*"><h3>*id-fn*</h3><div class="usage"><code>(*id-fn*)</code><code>(*id-fn* val)</code></div><pre class="doc">DO NOT REBIND EXCEPT FOR TESTING OR YOU MIGHT CORRUPT DATA.
Determines unique ids, possibly from a value.
UUID is defined as public format.</pre></div><div class="public" id="var-branch"><h3>branch</h3><div class="usage"><code>(branch meta name parent)</code></div><pre class="doc">Create a new branch with parent.
</pre></div><div class="public" id="var-clone"><h3>clone</h3><div class="usage"><code>(clone remote-meta branch is-public)</code></div><pre class="doc">Clone a remote branch as your working copy.
Pull in more branches as needed separately.</pre></div><div class="public" id="var-commit"><h3>commit</h3><div class="usage"><code>(commit meta author schema branch parents value)</code></div><pre class="doc">Commits to repo with repo-id and metadata meta
a commit with parents and value new.
Returns a map with metadata and value+inlined metadata.</pre></div><div class="public" id="var-merge-heads"><h3>merge-heads</h3><div class="usage"><code>(merge-heads author schema branch source-meta source-heads target-meta target-heads value)</code></div><pre class="doc">Merge target branch into source branch with value as commit.
</pre></div><div class="public" id="var-merge-lcas"><h3>merge-lcas</h3><div class="usage"><code>(merge-lcas author schema branch source-meta source-heads target-heads value lcas)</code></div><pre class="doc">Merge target-heads with help of lowest-common-ancestors.
</pre></div><div class="public" id="var-new-repository"><h3>new-repository</h3><div class="usage"><code>(new-repository description author schema is-public value)</code></div><pre class="doc">Create a (unique) repository for an initial value. Returns a map with
new metadata and value + inline metadata. You can add fields to
*inline* metadata as long as you keep them namespaced with globally
unique names.</pre></div><div class="public" id="var-pull"><h3>pull</h3><div class="usage"><code>(pull meta branch remote-meta remote-tip)</code></div><pre class="doc">Pull all commits into branch from remote-tip (only its ancestors).
</pre></div><div class="public" id="var-pull-lcas"><h3>pull-lcas</h3><div class="usage"><code>(pull-lcas meta branch remote-tip lcas)</code></div><pre class="doc">Pull a lowest-common-ancestor map containing the cut and returnpaths
to remote-head.</pre></div></div></body></html>